{% set navPages = collections.all | eleventyNavigation %}
{% macro renderNavListItem(entry) -%}
<li class="nav-item{{" menu-item-has-children" if entry.children.length}}">
  <a href="{{ entry.url }}"{{ 'aria-current="page"' if entry.url == page.url }}>
    {{ entry.title }}
    {%- if entry.children.length %}
    <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 16 16"><path d="M8 12.7 1.3 6l1.4-1.4L8 9.9l5.3-5.3L14.7 6z"/></svg>
    {%- endif %}
  </a>
{%- if entry.children.length -%}
  <ul class="sub-menu">
    {%- for child in entry.children %}{{ renderNavListItem(child) }}{% endfor -%}
  </ul>
{%- endif -%}
</li>
{%- endmacro %}
<nav>
  <ul class="nav">
{%- for entry in navPages %}{{ renderNavListItem(entry) }}{%- endfor -%}
  </ul>
</nav>

